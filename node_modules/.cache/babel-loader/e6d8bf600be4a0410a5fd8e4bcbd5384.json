{"ast":null,"code":"export const authentication = (data, next) => {\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\n    next();\n  }\n};\nexport const isAuth = () => {\n  if (typeof window == \"undefined\") {\n    return false;\n  }\n\n  if (localStorage.getItem(\"jwt\")) {\n    return JSON.parse(localStorage.getItem(\"jwt\"));\n  } else {\n    return false;\n  }\n};\nexport const myLogin = user => {\n  return fetch(\"http://localhost:3002/api/login\", {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(response => {\n    return response.json();\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const mySignUp = user => {\n  return fetch(\"http://localhost:3002/api/signup\", {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(response => {\n    return response.json();\n  }).catch(error => {\n    console.log(error);\n  });\n}; //add audio to the local storage\n\nexport const addAudio = audio => {\n  let audios = [];\n\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"audios\")) {\n      audios = JSON.parse(localStorage.getItem(\"audios\"));\n    }\n\n    audios.push({ ...audio\n    });\n    audios = Array.from(new Set(audios.map(p => p._id))).map(id => {\n      return audios.find(p => p._id === id);\n    });\n    localStorage.setItem(\"audios\", JSON.stringify(audios));\n  }\n}; //delete product from shopping cart\n\nexport const deleteAudio = productId => {\n  let audio = [];\n\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"audios\")) {\n      audio = JSON.parse(localStorage.getItem(\"audios\"));\n    }\n\n    audio.map((product, index) => {\n      if (audio._id === productId) {\n        audio.splice(index, 1);\n      }\n    });\n    localStorage.setItem(\"audios\", JSON.stringify(audio));\n  }\n\n  return audio;\n}; //get chosen audios from local storage\n\nexport const getAudios = () => {\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"audios\")) {\n      return JSON.parse(localStorage.getItem(\"audios\"));\n    }\n  }\n\n  return [];\n};","map":{"version":3,"sources":["/home/pbretones/Documentos/PBretones/tpdc/proyectofinal/src/helpers.js"],"names":["authentication","data","next","window","localStorage","setItem","JSON","stringify","isAuth","getItem","parse","myLogin","user","fetch","method","headers","Accept","body","then","response","json","catch","error","console","log","mySignUp","addAudio","audio","audios","push","Array","from","Set","map","p","_id","id","find","deleteAudio","productId","product","index","splice","getAudios"],"mappings":"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","sourcesContent":["\nexport const authentication = (data, next) => {\n    if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\n        next()\n    }\n}\n\nexport const isAuth = () => {\n    if (typeof window == \"undefined\") {\n        return false\n    }\n    if (localStorage.getItem(\"jwt\")) {\n        return JSON.parse(localStorage.getItem(\"jwt\"))\n    } else {\n        return false\n    }\n}\n\nexport const myLogin = (user) => {\n    return (\n        fetch(\"http://localhost:3002/api/login\", {\n            method: \"POST\",\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(user)\n\n        })\n            .then((response) => {\n                return response.json();\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n    )\n}\nexport const mySignUp = (user) => {\n    return (\n        fetch(\"http://localhost:3002/api/signup\", {\n            method: \"POST\",\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(user)\n\n        })\n            .then((response) => {\n                return response.json();\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n    )\n}\n\n//add audio to the local storage\nexport const addAudio = (audio) => {\n    let audios = [];\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"audios\")) {\n            audios = JSON.parse(localStorage.getItem(\"audios\"));\n        }\n        audios.push({\n            ...audio\n\n        });\n\n        audios = Array.from(new Set(audios.map((p) => p._id))).map((id) => {\n            return audios.find((p) => p._id === id);\n        });\n\n        localStorage.setItem(\"audios\", JSON.stringify(audios));\n    }\n};\n\n//delete product from shopping cart\nexport const deleteAudio = (productId) => {\n    let audio = [];\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"audios\")) {\n            audio = JSON.parse(localStorage.getItem(\"audios\"));\n        }\n\n        audio.map((product, index) => {\n            if (audio._id === productId) {\n                audio.splice(index, 1);\n            }\n        });\n\n        localStorage.setItem(\"audios\", JSON.stringify(audio));\n    }\n    return audio;\n};\n\n//get chosen audios from local storage\nexport const getAudios = () => {\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"audios\")) {\n            return JSON.parse(localStorage.getItem(\"audios\"));\n        }\n    }\n    return [];\n};\n"]},"metadata":{},"sourceType":"module"}